<script setup lang="ts">
import HelpButton from "@/components/common/HelpButton.vue";
import AgentChatWindow from "@/components/agent/AgentChatWindow.vue";

const videoUrl = `${window.location.origin}/videos/car-agent.mp4`;
</script>

<template>
  <HelpButton>
    <div class="d-flex justify-content-center my-4">
      <video
        ref="player"
        :src="videoUrl"
        controls
        loop
        autoplay
        muted
        playsinline
        style="width: 100%;"
      ></video>
    </div>

    <h2 class="mb-5 mt-8">
      <i class="bi bi-car-front px-2"></i>
      Descritivo da P√°gina do Agente de Descontos
    </h2>
    <p>
      Esta p√°gina apresenta um
      <strong>assistente virtual especializado em solicita√ß√£o de descontos.</strong>.
      Ele permite ao usuario solicitar descontos em produtos e consultar o status de suas solicita√ß√µes,
      utilizando ferramentas integradas ao servidor MCP (<em>Model Context Protocol</em>).
    </p>

    <h5 class="mt-6 mb-3 bg-gray-100 p-2 rounded bck-h">
  <i class="bi bi-list-task px-2"></i> Funcionalidades
</h5>
<ul>
  <li>
    <strong>Solicitar Desconto</strong>
    Permite ao usu√°rio solicitar um desconto em um produto, informando:
    <ul>
      <li>Nome do produto</li>
      <li>Pre√ßo original</li>
      <li>Percentual de desconto desejado (0.0 a 1.0)</li>
      <li>C√≥digo do cliente</li>
      <li>Motivo do pedido de desconto</li>
    </ul>
  </li>
  <li>
    <strong>Consultar Status de Desconto</strong>
    Informa o status atual de uma solicita√ß√£o de desconto previamente feita utilizando o c√≥digo.
  </li>
  <li>
    <strong>Interface Conversacional:</strong>
    Toda a intera√ß√£o ocorre via chat, de forma natural e contextualizada.
  </li>
</ul>

    <h5 class="mt-6 mb-3 bg-gray-100 p-2 rounded bck-h">
      <i class="bi bi-gear px-2"></i> Personaliza√ß√£o
    </h5>
    <p>
      O agente permite ajustar suas instru√ß√µes de comportamento e ferramentas por meio do bot√£o
      <strong>"Instru√ß√µes"</strong>, possibilitando adaptar o contexto de consulta conforme o cen√°rio
      (por exemplo, filtrar apenas pe√ßas de determinadas categorias ou faixas de pre√ßo).
    </p>

    <h5 class="mt-6 mb-3 bg-gray-100 p-2 rounded bck-h">
      <i class="bi bi-bullseye px-2"></i> Objetivo
    </h5>
    <p>
      O objetivo deste agente √© <strong>simplificar a busca e o gerenciamento de informa√ß√µes de pe√ßas automotivas</strong>,
      oferecendo uma experi√™ncia conversacional eficiente e intuitiva que elimina a necessidade de navega√ß√£o manual em cat√°logos extensos.
    </p>

    <h5 class="mt-6 mb-3 bg-gray-100 p-2 rounded bck-h">
      <i class="bi bi-link-45deg px-2"></i> Links √öteis
    </h5>
    <ul>
      <li>
        <a
          href="https://learn.microsoft.com/en-us/azure/ai-services/agents/overview"
          target="_blank"
          rel="noopener"
        >
          Azure AI Agent Service ‚Äì Vis√£o Geral
        </a>
      </li>
      <li>
        <a
          href="https://tallesvaliatti.com/criando-uma-aplica%C3%A7%C3%A3o-com-o-azure-ai-agent-service-parte-1-1d4fef7901a4"
          target="_blank"
          rel="noopener"
        >
          Azure AI Agent Service ‚Äì Tutorial em Portugu√™s
        </a>
      </li>
    </ul>
  </HelpButton>

  <AgentChatWindow
    :feature-id="7"
    title="Agente de Descontos"
    welcome-message="üëã Ol√°! Sou o Agente de Descontos. Posso solicitar um desconto ou consultar uma solicita√ß√£o de desconto. O que voc√™ deseja fazer?"
    default-agent-name="Agente de Descontos"
    default-instructions="Voc√™ √© um assistente virtual especializado em pe√ßas automotivas e solicita√ß√µes de desconto.
Antes de chamar qualquer ferramenta, sempre confirme se possui todas as informa√ß√µes necess√°rias.

Para solicitar um desconto (RequestDiscount), pergunte e valide as seguintes informa√ß√µes:
1. Nome do produto
2. Pre√ßo original
3. Percentual de desconto solicitado (0.0 a 1.0) ou o preco final desejado e calcule o percentual
4. C√≥digo do cliente
5. Motivo da solicita√ß√£o

Se alguma dessas informa√ß√µes estiver faltando, pergunte ao usu√°rio de forma clara e natural.
Quando tiver tudo, chame a ferramenta RequestDiscount e retorne para o usu√°rio a confirma√ß√£o do pedido e o ID do pedido.

Use GetDiscountStatus apenas quando o usu√°rio pedir para verificar o andamento de uma solicita√ß√£o anterior."

  >
    <template #icon>
      <i class="bi bi-tools px-3"></i>
    </template>
  </AgentChatWindow>
</template>
